<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>oscl_socket_imp_pv.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>oscl_socket_imp_pv.h</h1><a href="oscl__socket__imp__pv_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 
00003 <span class="preprocessor">#ifndef OSCL_SOCKET_IMP_PV_H_INCLUDED</span>
00004 <span class="preprocessor"></span><span class="preprocessor">#define OSCL_SOCKET_IMP_PV_H_INCLUDED</span>
00005 <span class="preprocessor"></span>
00006 <span class="preprocessor">#include "<a class="code" href="oscl__socket__imp__base_8h.html">oscl_socket_imp_base.h</a>"</span>
00007 
<a name="l00015"></a><a class="code" href="oscl__socket__imp__pv_8h.html#a0">00015</a> <span class="preprocessor">#define PVSOCK_ERR_BAD_PARAM (-1)</span>
<a name="l00016"></a><a class="code" href="oscl__socket__imp__pv_8h.html#a1">00016</a> <span class="preprocessor"></span><span class="preprocessor">#define PVSOCK_ERR_SOCK_NOT_OPEN (-2)</span>
<a name="l00017"></a><a class="code" href="oscl__socket__imp__pv_8h.html#a2">00017</a> <span class="preprocessor"></span><span class="preprocessor">#define PVSOCK_ERR_SOCK_NO_SERV (-3)</span>
<a name="l00018"></a><a class="code" href="oscl__socket__imp__pv_8h.html#a3">00018</a> <span class="preprocessor"></span><span class="preprocessor">#define PVSOCK_ERR_SERV_NOT_CONNECTED (-4)</span>
<a name="l00019"></a><a class="code" href="oscl__socket__imp__pv_8h.html#a4">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define PVSOCK_ERR_SOCK_NOT_CONNECTED (-5)</span>
<a name="l00020"></a><a class="code" href="oscl__socket__imp__pv_8h.html#a5">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define PVSOCK_ERR_NOT_IMPLEMENTED (-6)</span>
<a name="l00021"></a><a class="code" href="oscl__socket__imp__pv_8h.html#a6">00021</a> <span class="preprocessor"></span><span class="preprocessor">#define PVSOCK_ERR_NOT_SUPPORTED (-7)</span>
00022 <span class="preprocessor"></span>
00023 
00024 <span class="keyword">class </span><a class="code" href="classOsclSocketServI.html">OsclSocketServI</a>;
00025 <span class="keyword">class </span><a class="code" href="classPVLogger.html">PVLogger</a>;
00026 <span class="keyword">class </span><a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>;
00027 
<a name="l00030"></a><a class="code" href="classOsclSocketI.html">00030</a> <span class="keyword">class </span><a class="code" href="classOsclSocketI.html">OsclSocketI</a>: <span class="keyword">public</span> <a class="code" href="classOsclSocketIBase.html">OsclSocketIBase</a>
00031 {
00032     <span class="keyword">public</span>:
00033         <span class="keyword">static</span> <a class="code" href="classOsclSocketI.html">OsclSocketI</a>* <a class="code" href="classOsclSocketI.html#d0">NewL</a>(<a class="code" href="classOscl__DefAlloc.html">Oscl_DefAlloc</a> &amp;a);
00034         <a class="code" href="classOsclSocketI.html#a0">~OsclSocketI</a>();
00035 
00036         <span class="comment">//synchronous methods</span>
00037         int32 <a class="code" href="classOsclSocketI.html#a1">Open</a>(<a class="code" href="classOsclSocketServI.html">OsclSocketServI</a>&amp; aServer, uint32 addrFamily, uint32 sockType, uint32 protocol);
00038         int32 <a class="code" href="classOsclSocketI.html#a1">Open</a>(<a class="code" href="classOsclSocketServI.html">OsclSocketServI</a>&amp; aServer);
00039         int32 <a class="code" href="classOsclSocketI.html#a3">Bind</a>(<a class="code" href="classOsclNetworkAddress.html">OsclNetworkAddress</a>&amp; anAddr);
00040         int32 <a class="code" href="classOsclSocketI.html#a4">SetSockOpt</a>(<a class="code" href="oscl__socket__types_8h.html#a31">TPVSocketOptionLevel</a> aOptionLevel, <a class="code" href="oscl__socket__types_8h.html#a30">TPVSocketOptionName</a> aOptionName, <a class="code" href="group__osclbase.html#a27">OsclAny</a>* aOptionValue, int32 aOptionLen);
00041         int32 <a class="code" href="classOsclSocketI.html#a5">GetPeerName</a>(<a class="code" href="classOsclNetworkAddress.html">OsclNetworkAddress</a>&amp; peerName);
00042         int32 <a class="code" href="classOsclSocketI.html#a6">Join</a>(<a class="code" href="classOsclNetworkAddress.html">OsclNetworkAddress</a>&amp; anAddr);
00043         int32 <a class="code" href="classOsclSocketI.html#a7">Close</a>();
00044         int32 <a class="code" href="classOsclSocketI.html#a8">Listen</a>(uint32 qSize);
00045         int32 <a class="code" href="classOsclSocketI.html#a9">SetRecvBufferSize</a>(uint32 size);
00046         <a class="code" href="oscl__socket__types_8h.html#a28">TPVSocketEvent</a> <a class="code" href="classOsclSocketI.html#a10">ThreadLogoff</a>();
00047         <a class="code" href="oscl__socket__types_8h.html#a28">TPVSocketEvent</a> <a class="code" href="classOsclSocketI.html#a11">ThreadLogon</a>(<a class="code" href="classOsclSocketServI.html">OsclSocketServI</a>* aServ);
00048 
00049         <span class="comment">//asynchronous methods.</span>
00050 
00051         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a12">Connect</a>(<a class="code" href="classConnectParam.html">ConnectParam</a>&amp; , <a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp;);
00052 
00053         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a13">Accept</a>(<a class="code" href="classAcceptParam.html">AcceptParam</a> &amp;, <a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp;);
00054 
00055         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a14">Shutdown</a>(<a class="code" href="classShutdownParam.html">ShutdownParam</a> &amp;, <a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp;);
00056 
00057         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a15">Send</a>(<a class="code" href="classSendParam.html">SendParam</a> &amp;, <a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp;);
00058         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a16">SendSuccess</a>(<a class="code" href="classSendParam.html">SendParam</a> &amp;);
00059 
00060         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a17">SendTo</a>(<a class="code" href="classSendToParam.html">SendToParam</a> &amp; , <a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp;);
00061         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a18">SendToSuccess</a>(<a class="code" href="classSendToParam.html">SendToParam</a> &amp;);
00062 
00063         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a19">Recv</a>(<a class="code" href="classRecvParam.html">RecvParam</a> &amp;, <a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp;);
00064         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a20">RecvSuccess</a>(<a class="code" href="classRecvParam.html">RecvParam</a> &amp;);
00065 
00066         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a21">RecvFrom</a>(<a class="code" href="classRecvFromParam.html">RecvFromParam</a> &amp;, <a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp;);
00067         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a22">RecvFromSuccess</a>(<a class="code" href="classRecvFromParam.html">RecvFromParam</a> &amp;);
00068 
00069 
00070     <span class="keyword">private</span>:
00071         <a class="code" href="classOsclSocketI.html">OsclSocketI</a>(<a class="code" href="classOscl__DefAlloc.html">Oscl_DefAlloc</a> &amp;a);
00072 
00073         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketIBase.html#b1">CancelConnect</a>();
00074         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketIBase.html#b2">CancelAccept</a>();
00075         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketIBase.html#b3">CancelShutdown</a>();
00076         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketIBase.html#b4">CancelSend</a>();
00077         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketIBase.html#b5">CancelSendTo</a>();
00078         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketIBase.html#b6">CancelRecv</a>();
00079         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketIBase.html#b7">CancelRecvFrom</a>();
00080 
00081         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classOsclSocketIBase.html#b10">IsOpen</a>();
00082         int32 GetOsclSockOptLevelName(<span class="keyword">const</span> <a class="code" href="oscl__socket__types_8h.html#a31">TPVSocketOptionLevel</a> aOptionLevel, <span class="keyword">const</span> <a class="code" href="oscl__socket__types_8h.html#a30">TPVSocketOptionName</a> aOptionName, int32&amp; aOsclOptionLevel, int32&amp; aOsclOptionName);
00083 
00084 
00085         <span class="comment">//PV socket server</span>
00086 
00087         <span class="comment">//the OS-level socket</span>
00088         <a class="code" href="osclconfig__io_8h.html#a63">TOsclSocket</a> iSocket;
00089 
00090     <span class="keyword">public</span>:
<a name="l00091"></a><a class="code" href="classOsclSocketI.html#a23">00091</a>         <a class="code" href="osclconfig__io_8h.html#a63">TOsclSocket</a> <a class="code" href="classOsclSocketI.html#a23">Socket</a>()
00092         {
00093             <span class="keywordflow">return</span> iSocket;
00094         }
00095         <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classOsclSocketI.html#d1">MakeAddr</a>(<a class="code" href="classOsclNetworkAddress.html">OsclNetworkAddress</a>&amp; in, <a class="code" href="osclconfig__io_8h.html#a64">TOsclSockAddr</a>&amp; addr);
00096         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#d1">MakeAddr</a>(<a class="code" href="osclconfig__io_8h.html#a64">TOsclSockAddr</a>&amp; in, <a class="code" href="classOsclNetworkAddress.html">OsclNetworkAddress</a>&amp; addr);
00097         <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classOsclSocketI.html#d3">MakeMulticastGroupInformation</a>(<a class="code" href="classOsclIpMReq.html">OsclIpMReq</a>&amp; in, <a class="code" href="osclconfig__io_8h.html#a66">TIpMReq</a>&amp; addr);
00098         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#d3">MakeMulticastGroupInformation</a>(<a class="code" href="osclconfig__io_8h.html#a66">TIpMReq</a>&amp; in, <a class="code" href="classOsclIpMReq.html">OsclIpMReq</a>&amp; addr);
00099 
00100         <span class="comment">//routines to handle each type of socket request under the</span>
00101         <span class="comment">//server thread.</span>
00102         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a24">ProcessConnect</a>(<a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>*);
00103         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a25">ProcessShutdown</a>(<a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>*);
00104         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a26">ProcessAccept</a>(<a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>*);
00105         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a27">ProcessSendTo</a>(<a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>*);
00106         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a28">ProcessRecvFrom</a>(<a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>*);
00107         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a29">ProcessSend</a>(<a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>*);
00108         <span class="keywordtype">void</span> <a class="code" href="classOsclSocketI.html#a30">ProcessRecv</a>(<a class="code" href="classOsclSocketServRequestQElem.html">OsclSocketServRequestQElem</a>*);
00109 
00110     <span class="keyword">private</span>:
00111         <span class="keywordtype">bool</span> iSocketValid;
00112         <span class="keywordtype">bool</span> iSocketConnected;
00113         <span class="keywordtype">void</span> InitSocket(<span class="keywordtype">bool</span> valid);
00114 
00115         <span class="keywordtype">bool</span> IsConnected(<a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp; aObject);
00116         <span class="keywordtype">bool</span> IsReady(<a class="code" href="classOsclSocketRequestAO.html">OsclSocketRequestAO</a>&amp; aObject);
00117 
00118         <span class="comment">//server requests</span>
00119         <a class="code" href="classOsclSocketRequest.html">OsclSocketRequest</a> iSockServAcceptRequest;
00120         <a class="code" href="classOsclSocketRequest.html">OsclSocketRequest</a> iSockServConnectRequest;
00121         <a class="code" href="classOsclSocketRequest.html">OsclSocketRequest</a> iSockServRecvRequest;
00122         <a class="code" href="classOsclSocketRequest.html">OsclSocketRequest</a> iSockServRecvFromRequest;
00123         <a class="code" href="classOsclSocketRequest.html">OsclSocketRequest</a> iSockServSendRequest;
00124         <a class="code" href="classOsclSocketRequest.html">OsclSocketRequest</a> iSockServSendToRequest;
00125         <a class="code" href="classOsclSocketRequest.html">OsclSocketRequest</a> iSockServShutdownRequest;
<a name="l00126"></a><a class="code" href="classOsclSocketI.html#l0">00126</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclAcceptRequest.html">OsclAcceptRequest</a>;
<a name="l00127"></a><a class="code" href="classOsclSocketI.html#l1">00127</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclConnectRequest.html">OsclConnectRequest</a>;
<a name="l00128"></a><a class="code" href="classOsclSocketI.html#l2">00128</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclRecvRequest.html">OsclRecvRequest</a>;
<a name="l00129"></a><a class="code" href="classOsclSocketI.html#l3">00129</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclRecvFromRequest.html">OsclRecvFromRequest</a>;
<a name="l00130"></a><a class="code" href="classOsclSocketI.html#l4">00130</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclSendRequest.html">OsclSendRequest</a>;
<a name="l00131"></a><a class="code" href="classOsclSocketI.html#l5">00131</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclSendToRequest.html">OsclSendToRequest</a>;
<a name="l00132"></a><a class="code" href="classOsclSocketI.html#l6">00132</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclShutdownRequest.html">OsclShutdownRequest</a>;
00133 
<a name="l00134"></a><a class="code" href="classOsclSocketI.html#l7">00134</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclUDPSocket.html">OsclUDPSocket</a>;
<a name="l00135"></a><a class="code" href="classOsclSocketI.html#l8">00135</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOsclTCPSocket.html">OsclTCPSocket</a>;
00136 
00137         <a class="code" href="classPVLogger.html">PVLogger</a>* iLogger;
00138 
00139     <span class="keyword">public</span>:
00140         <span class="comment">//for logging in socket request list.</span>
<a name="l00141"></a><a class="code" href="classOsclSocketI.html#a31">00141</a>         <a class="code" href="classPVLogger.html">PVLogger</a>* <a class="code" href="classOsclSocketI.html#a31">Logger</a>()
00142         {
00143             <span class="keywordflow">return</span> iLogger;
00144         }
00145 
00146 };
00147 
00148 <span class="preprocessor">#endif</span>
00149 <span class="preprocessor"></span>
00150 
00151 
00152 
</pre></div><hr size="1"><img src="pvlogo_small.jpg"><address style="align: right;"><small>OSCL API</small>
<address style="align: left;"><small>Posting Version: CORE_8.101.1.1 </small>
</small></address>
</body>
</html>
